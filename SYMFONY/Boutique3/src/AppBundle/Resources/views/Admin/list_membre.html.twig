{% extends 'layout.html.twig' %}


{% block title %}Boutique - Membre{% endblock %}

{% block content %}
    <h1 class="display-4 text-center">je suis dans la liste des membres</h1><hr><br>

    <table class="table table-dark">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nom</th>
                <th>Prenom</th>
                <th>Username</th>
                <th>civilite</th>
                <th>Adresse</th>
                <th>Ville</th>
                <th>Codepostal</th>
                <th>Email</th>
                <th>Achats</th>
                
                <th colspan="3">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for m in membre %}
            <tr>
                <td>{{ m.id }}</td>
                <td>{{ m.nom }}</td>
                <td>{{ m.prenom }}</td>
                <td>{{ m.username }}</td>
                <td>{{ m.civilite }}</td>
                <td>{{ m.adresse }}</td>
                <td>{{ m.ville }}</td>
                <td>{{ m.codepostal }}</td>
                <td>{{ m.email }}</td>
                <td>
                    {{ m.commandes | length }} Cde(s)
                    <ul>
                        {% for c in m.commandes %}
                            <li>{{ c.montant | number_format(2, ',', ' ')}}â‚¬</li>
                        {% endfor %}
                    </ul>
                </td>
                
                
                
                

                <td><a href="{{ path('admin_membre', {'id': m.id } ) }}" target="_blank" class="text text-light"><i class="fas fa-eye"></i></a></td>
                <td><a href="{{ path('admin_update_membre', {'id': m.id } ) }}" class="text text-warning"><i class="fas fa-edit"></i></a></td>
                <td><a href="{{ path('admin_delete_membre', {'id': m.id } ) }}"  onclick="return confirm('Etes-vous sur de vouloir supprimer ce membre ? ')" class="text text-danger"><i class="fas fa-trash"></i></a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {{ dump(membre) }}

{% endblock %}